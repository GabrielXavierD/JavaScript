<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JavaScript</title>
    <script>
      /*
      ESCOPO = {} (sempre quando há "abre e fecha chaves" tem a criação de um escopo)
      -> Se criou um escopo, o uso errado de VAR ou LET pode ocasionar em um bug

      ESCOPO GLOBAL > ESCOPO DE FUNÇÃO  > ESCOPO DE BLOCO (referencia a um comando: if, switch, while, for)

      ESCOPO GLOBAL: -É o objeto WINDOW;
                        -> Exemplo: var global = "Olá" -> se fizermos console.log(window.global) -> retorna "Olá"
                      -São variáveis declaradas fora de funções, podem ser utilizadas dentro de funções e dentro de blocos (mesmo se o escopo de bloco estiver dentro de uma função)
                      -São acessíveis em qualquer lugar da aplicação
                      -Escopo global não interfere no escopo da função:
                        ->Se uma variavel let NOME for criada no global e uma mesma variavel let NOME for criada em uma função, seus valores não são interferidos, pois a global permanece o mesmo e a da função permanece o mesmo que foi estabelecido pra ela na função. Pois é como se estivessemos criando uma nova variavel inexistente dentro da função e VICE VERSA 
                        -> APENAS BLOCO pode sofrer hosting, o que poderia ocasionar em um conflito (EXPLICAÇÃO ALI EM BAIXO)

       ESCOPO DE FUNÇÃO: -Se eu declarar uma variável (independente do tipo) dentro de uma função essa variável estará disponível
       SOMENTE para a FUNÇÃO e para os ESCOPO DE BLOCOS contidos dentro da função;
                         -Variaveis criadas dentro de função/escopos de função são isolados do Escopo Global e não sofrem HOSTING/ELEVAÇÃO para o nivel global;
       
       ESCOPO DE BLOCO: -O UNICO que tem a caracteristica de poder sofrer HOSTING/ELEVAÇÃO
                        -Variaveis criadas dentro de escopos de bloco (que estão FORA de uma função) elas sofrem HOSTING/ELEVAÇÃO para o ESCOPO GLOBAL -> Somente se usar VAR;
                        -Variaveis criadas dentro de escopos de bloco (que estão DENTRO de uma função) elas sofrem HOSTING/ELEVAÇÃO para o ESCOPO DA FUNÇÃO -> Somente se usar VAR;

    -var: Tem escopo de função(e é acessível fora do bloco onde foi declarada) ou global => preserva o escopo onde a variavel é criada -> VAR sofre HOSTING/ELEVAÇÃO
    -let: Tem escopo de bloco e é acessível apenas dentro do bloco onde foi declarada -> Ele faz com que a variável preserve o escopo onde ela foi criada - LET NÃO sofre HOSTING/ELEVAÇÃO

      *DE FORMA GERAL, É RECOMENDADO UTILIZAR O OPERADOR LET*


    Escopo/Bloco = {...}

      3 escopos: 
      -global = script como um todo;

      -função = conteudo dentro da função, tem acesso as var globais; 
        -> caso alguma variavel seja declarada dentro dele, não poderá ser acessada globalmente
      
      -bloco = informações dentro de comandos, tem acesso as var globais -> Ex.: IF{} ou SWITCH{}
        -> variaveis declaradas dentro de escopo de bloco sofrem hosting/elevação p/ global; 
        -> caso o if esteja dentro de uma função e haja uma variavel declara dentro do if,
         a variavel sofrerá hosting/elevação porém, "subirá" somente até o escopo da função e não será global.

      *hosting/elevação -> termo que indica elevação de declaração de variavel 
      -> Ex.: variavel declarada dentro do IF(escopo de bloco), ela fica elevada, ou seja, pode ser acessada em qualquer local do codigo,
      é global



      CONFLITOS
      Exemplo:
      let teste = "Oi";

      if(teste){
        var teste = "Olá"
      }
No caso, let mantem o escopo de onde é criado, no caso está global, porém, VAR sofre hosting quando é colocada
em um escopo de bloco, quando o operador VAR tentar realizar o hosting para a variavel global, irá dar um conflito
com a variavel LET -> Geralmente algo tipo "Duplicate declaration 'variavel'"



*/





      var global = "Olá";
      console.log(window.global)

      var serie = 'Friends' //Variavel global -> Pode ser acessada dentro de escopos de funções e de blocos (e escopos de bloco dentro de um escopo de função)
      
      function minhaFuncao() {
        console.log("Dentro do escopo da função: ", serie); //
       
        if(true){
          console.log("Dentro do escopo de bloco em um escopo de função:", serie); //
        }
      }

      minhaFuncao()


      if(true){
        console.log("Dentro de um escopo de bloco no mesmo nível que a função: ", serie);
      }




// EXEMPLO 2
let teste4 = 'Stranger Things' //global

     {
        let teste4 = "Round 6" // let preserva o escopo onde foi criada
        console.log("Exemplo 3 - let Bloco:", teste4); //Round 6
      }

console.log('Exemplo 3 - let Global: ', teste4); // Stranger Things      






// EXEMPLO 3
      // Escopo de bloco:
      if(true){
        var serie2 = 'Game of Thrones'; //VAR declarada dentro do escopo do bloco (VAR sofre hosting em esc. de bloco)
      }
     console.log(serie2); //o escopo global tem acesso a var criada dentro de if

      // Escopo de função:
      function netflix(){
        var serie3 = 'The Walking Dead';
       console.log(serie); //var. global
       console.log(serie2); //var. global declarada dentro do escopo do bloco IF
      }

      netflix() //chamando a função vazia, p/ mostrar o que há dentro dela, no caso os nomes das series, os console.log

     console.log(serie3); //não renderiza, pois variavel declarada dentro de função não pode ser acessada globalmente -> erro





    </script>
    
  </head>

  <body>
  </body>
</html>